

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>mtk.ga.fitness module &mdash; mtk  documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="mtk  documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> mtk
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">mtk.ga.fitness module</a><ul>
<li><a class="reference internal" href="#a-note-on-how-fitness-values-are-calculated">A note on how fitness values are calculated.</a></li>
<li><a class="reference internal" href="#extending-mmea-adding-fitness-functions">Extending MMEA: Adding fitness functions.</a></li>
<li><a class="reference internal" href="#a-note-on-plotting">A note on plotting.</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">mtk</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>mtk.ga.fitness module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/mtk.ga.fitness.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-mtk.ga.fitness">
<span id="mtk-ga-fitness-module"></span><h1>mtk.ga.fitness module<a class="headerlink" href="#module-mtk.ga.fitness" title="Permalink to this headline">¶</a></h1>
<p>Module for defining fitness functions.</p>
<div class="section" id="a-note-on-how-fitness-values-are-calculated">
<h2>A note on how fitness values are calculated.<a class="headerlink" href="#a-note-on-how-fitness-values-are-calculated" title="Permalink to this headline">¶</a></h2>
<p>Calculation of fitness values can be a multi-step process. The goal is
to place a numerical value between 0 (exclusive) and infinity in the
<cite>fitness</cite> attribute of a MacroMolecule instance. A thing to keep in
mind is that once a value is placed into the <cite>unscaled_fitness</cite>
attribute it never changes (for a given fitness function and molecule).
However, values placed into the <cite>fitness</cite> attribute are subject to
change. This is because the outcome of a normalization procedure can
depend on other members of the population, not just the one being
evaulated. As a result this can be different each generation.</p>
<p>There are 2 ways in which calculation of a <cite>fitness</cite> value can be
achieved. First, using only a fitness function. Second, using a fitness
function and normalization functions.</p>
<p>The case when only a fitness function is used is simple. All fitness
functions take a MacroMoleule instance as an argument and return the
value of its fitness. MMEA then automatically puts this returned value
into the <cite>unscaled_fitness</cite> attribute. Next, MMEA copies this value
into the <cite>fitness</cite> attribute at the start of each generation.</p>
<p>So what happens if normalization functions are used?</p>
<p>The first thing to note is that multiple normalization functions can
be applied sequentially. Each normalization function replaces the
previous value in the <cite>fitness</cite> attribute. Normalization functions do
not manipulate or interact with the <cite>unscaled_fitness</cite> attribute in any
way. Before the first normalization function is applied, MMEA
automatically copies the value in <cite>unscaled_fitness</cite> into <cite>fitness</cite>.</p>
<p>The normalization functions then place various values into the
<cite>fitness</cite> attribute. Only the last normalization function needs to
place a value between 0 (exclusive) and infinity in the <cite>fitness</cite>
attribute. This is useful if the fitness function calculates the values
a number of fitness parameters (such as energy, molecular weight, etc.)
and then the normalization functions combine them into a single number.</p>
<p>Each generation, before all the normalization functions are reapplied,
MMEA automatically copies the value in <cite>unscaled_fitness</cite> into
<cite>fitness</cite>. Then the sequence of normalization functions is applied
again.</p>
<p>While fitness functions are only applied once per molecule,
normalization functions are reapplied each generation.</p>
</div>
<div class="section" id="extending-mmea-adding-fitness-functions">
<h2>Extending MMEA: Adding fitness functions.<a class="headerlink" href="#extending-mmea-adding-fitness-functions" title="Permalink to this headline">¶</a></h2>
<p>Example: random_fitness()</p>
<p>To add a new fitness function simply write it as a function in this
module. It will need to take the <code class="docutils literal"><span class="pre">MacroMolecule</span></code> instance as its
first argument and this argument should be called <code class="docutils literal"><span class="pre">macro_mol</span></code>. It
should also hold a keyword argument called <code class="docutils literal"><span class="pre">logger</span></code>. The purpose of
this is to help users identify which arguments are handled
automatically by MMEA and which they need to define in the input file.
The convention is that if the fitness function takes an argument called
<code class="docutils literal"><span class="pre">macro_mol</span></code> or <code class="docutils literal"><span class="pre">logger</span></code> they do not have to specify that argument
in the input file.</p>
<p>When defining fitness functions the <code class="docutils literal"><span class="pre">logger</span></code> argument should be
used for logging as a normal logger from the <code class="docutils literal"><span class="pre">logging</span></code> library would.
When running the GA a special logger compatible with multiprocessing
is automatically placed in this argument. It may be useful to define
the logger argument as a keyword argument:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">fit_func</span><span class="p">(</span><span class="n">macro_mol</span><span class="p">,</span> <span class="n">somearg</span><span class="p">,</span> <span class="n">logger</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>In this way, if the fitness function is used outside of the GA,
the logger will be provided automatically as well.</p>
<p>A fitness function must return the value which represents the fitness
of the molecule received as an argument. If a fitness function is meant
to be paired with a normalization funtion it can return any value or
object it likes. Just as long as the normalization functions know how
to deal with it and convert it to a number.</p>
<p>A fitness function may be complex and may not fit neatly into a single
function. For example, the <code class="docutils literal"><span class="pre">cage_target()</span></code> fitness function needs to
call <code class="docutils literal"><span class="pre">_generate_complexes()</span></code> in order to sample various conformations
before outputting a fitness value. This is fine. Define helper
functions such as <code class="docutils literal"><span class="pre">_generate_complexes()</span></code> within this module but make
sure they are private. This means that names of helper functions begin
with a leading underscore.</p>
</div>
<div class="section" id="a-note-on-plotting">
<h2>A note on plotting.<a class="headerlink" href="#a-note-on-plotting" title="Permalink to this headline">¶</a></h2>
<p>As mentioned before some fitness functions may be complex and as a
result manipulate all sorts of data. Typically, in order to measure the
progress of a GA, the fitness values in the population are tracked
across generations. However, let’s say that some hypothetical fitness
function also calculates the energies of molecules. It may be quite
interesting plot the evolution of energies across generations too. If
this is the case the fitness function may assign to the
<cite>progress_params</cite> attribute of <cite>macro_mol</cite>:</p>
<blockquote>
<div>macro_mol.progress_params[‘example_func’] = [mol_energy]</div></blockquote>
<p>Now a plot showing the change in <cite>mol_energy</cite> across generations will
be made too, along with the plot showing the changes in fitness. In
this case the name of the fitness function was <code class="docutils literal"><span class="pre">example_func</span></code>.</p>
<p>What if two things are needed to be kept track of?</p>
<blockquote>
<div>macro_mol.progress_params[‘example_func’] = [mol_energy, mol_radius]</div></blockquote>
<p>Great, now a progress plot for each of the variables will be made.</p>
<p>How will the y axes be labelled in each plot?
The decorator <cite>_param_labels()</cite> exists for this.</p>
<p>Let’s create a basic outline of a some fitness function:</p>
<blockquote>
<div><p>&#64;_param_labels(‘Molecule Energy / J mol-1’, ‘Mol Radius / m-9’)
def this_is_the_fitness_function(macro_mol, some_param):</p>
<blockquote>
<div><p>…
calculate_stuff()
…
macro_mol.progress_params[‘this_is_the_fitness_function’] = [</p>
<blockquote>
<div>mol_energy, mol_radius]</div></blockquote>
<p>…
return fitness_value</p>
</div></blockquote>
</div></blockquote>
<p>If this function is used in the GA, a progress plot will be made for
each of the <cite>progress_params</cite> and they will have their y-axes labelled
‘Molecule Energy / J mol-1’ and ‘Molecule Radius / m-9’, respectively.</p>
<dl class="function">
<dt id="mtk.ga.fitness.cage">
<code class="descclassname">mtk.ga.fitness.</code><code class="descname">cage</code><span class="sig-paren">(</span><em>macro_mol</em>, <em>pseudoformation_params={‘func’: FunctionData(‘rdkit’</em>, <em>forcefield=’mmff’)}</em>, <em>logger=&lt;logging.Logger object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/ga/fitness.html#cage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.ga.fitness.cage" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the fitness vector of a cage.</p>
<p>The fitness vector consists of the following properties in the
listed order</p>
<blockquote>
<div><ol class="arabic simple">
<li><cite>cavity</cite> - the diameter of the cage pore.</li>
<li><cite>window</cite> - the diameter of the largest cage window.</li>
<li><cite>asymmetry</cite> - the sum of the size differences of all the
windows in <cite>macro_mol</cite>.</li>
<li><cite>eng_per_bond</cite> - The formation energy of <cite>macro_mol</cite> per
bond made.</li>
<li><cite>strain</cite> - The mean rmsd between the free building blocks
and those in the macromolecule.</li>
</ol>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>macro_mol</strong> (<a class="reference internal" href="mtk.molecular.molecules.html#mtk.molecular.molecules.Cage" title="mtk.molecular.molecules.Cage"><em>Cage</em></a>) – The cage whose fitness is to be calculated.</li>
<li><strong>pseudoformation_params</strong> (<em>dict</em><em> (</em><em>default =</em>) – <p>{ ‘func’ : FunctionData(‘rdkit’, forcefield=’uff’) })</p>
<p>This fitness function calculates the formation energy using the
<code class="docutils literal"><span class="pre">Energy.pseudoformation()</span></code> method. This parameter defines the
arguments passed to this method via a dictionary. The name of
the argument is the key and the value of the argument is the
value.</p>
<p>Default initialized arguments of Energy.pseudoformation() only
need to be specified in <cite>energy_params</cite> if the user wishes to
change the default value.</p>
<p>To see what arguments the <cite>Energy.pseudoformation()</cite> method
requires, try using the  <cite>-h</cite> option:</p>
<blockquote>
<div>python -m mmea -h energy</div></blockquote>
</li>
<li><strong>logger</strong> (<a class="reference internal" href="mtk.convenience_tools.html#mtk.convenience_tools.FakeLogger" title="mtk.convenience_tools.FakeLogger"><em>FakeLogger</em></a><em> or </em><em>logging.Logger</em><em>, </em><em>optional</em>) – Used for logging. Not used by this function.</li>
<li><strong>Modifies</strong> – </li>
<li><strong>--------</strong> – </li>
<li><strong>macro_mol.progress_params</strong> (<em>dict</em>) – Places the calculated parameters in the dict. The order
corresponds to the arguments in the <code class="docutils literal"><span class="pre">_param_labels()</span></code>
decorator applied to this function.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The numpy array holds the fitness vector described in this
docstring.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">numpy.array</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> – If the calculation of a fitness parameter fails.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mtk.ga.fitness.cage_c60">
<code class="descclassname">mtk.ga.fitness.</code><code class="descname">cage_c60</code><span class="sig-paren">(</span><em>macro_mol</em>, <em>target_mol_file</em>, <em>efunc</em>, <em>ofunc</em>, <em>n5fold</em>, <em>n2fold</em>, <em>logger=&lt;logging.Logger object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/ga/fitness.html#cage_c60"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.ga.fitness.cage_c60" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the fitness vector of a cage / C60 complex.</p>
<p>The difference between this function and <a class="reference internal" href="#mtk.ga.fitness.cage_target" title="mtk.ga.fitness.cage_target"><code class="xref py py-func docutils literal"><span class="pre">cage_target()</span></code></a> is
that the rotations are specifically aimed at sampling C60 entirely
and systematically. Rather than the random sampling of the other
function.</p>
<p>The function returns a fitness vector consisting of:</p>
<blockquote>
<div><ol class="arabic simple">
<li>binding energy</li>
<li>cavity of cage in complex</li>
<li>asymmetry of cage in complex</li>
<li>strain of cage in complex</li>
<li>cavity of cage by itself</li>
<li>asymmetry of cage by itself</li>
<li>strain of cage by itself</li>
</ol>
</div></blockquote>
<p class="rubric">Notes</p>
<p>This function modifies <cite>macro_mol</cite>. It places the calculated
fitness parameters into <a class="reference internal" href="mtk.molecular.molecules.html#mtk.molecular.molecules.MacroMolecule.progress_params" title="mtk.molecular.molecules.MacroMolecule.progress_params"><code class="xref py py-attr docutils literal"><span class="pre">progress_params</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>macro_mol</strong> (<a class="reference internal" href="mtk.molecular.molecules.html#mtk.molecular.molecules.Cage" title="mtk.molecular.molecules.Cage"><code class="xref py py-class docutils literal"><span class="pre">Cage</span></code></a>) – The cage which is to have its fitness calculated.</li>
<li><strong>target_mol_file</strong> (<code class="xref py py-class docutils literal"><span class="pre">str</span></code>) – The full path of the <code class="docutils literal"><span class="pre">.mol</span></code> file hodling the target molecule
placed inside the cage.</li>
<li><strong>efunc</strong> (<a class="reference internal" href="mtk.convenience_tools.html#mtk.convenience_tools.FunctionData" title="mtk.convenience_tools.FunctionData"><code class="xref py py-class docutils literal"><span class="pre">FunctionData</span></code></a>) – A <a class="reference internal" href="mtk.convenience_tools.html#mtk.convenience_tools.FunctionData" title="mtk.convenience_tools.FunctionData"><code class="xref py py-class docutils literal"><span class="pre">FunctionData</span></code></a> object representing the energy
function used to calculate energies.</li>
<li><strong>ofunc</strong> (<a class="reference internal" href="mtk.convenience_tools.html#mtk.convenience_tools.FunctionData" title="mtk.convenience_tools.FunctionData"><code class="xref py py-class docutils literal"><span class="pre">FunctionData</span></code></a>) – A <a class="reference internal" href="mtk.convenience_tools.html#mtk.convenience_tools.FunctionData" title="mtk.convenience_tools.FunctionData"><code class="xref py py-class docutils literal"><span class="pre">FunctionData</span></code></a> object representing the optimization
function to be run on the generated complexes.</li>
<li><strong>n5fold</strong> (<code class="xref py py-class docutils literal"><span class="pre">int</span></code>) – The number of rotations along the 5-fold axis of symmetry.</li>
<li><strong>n2fold</strong> (<code class="xref py py-class docutils literal"><span class="pre">int</span></code>) – The number of rotations along the 2 fold axis of symmetry per
rotation along the 5-fold axis.</li>
<li><strong>logger</strong> (<a class="reference internal" href="mtk.convenience_tools.html#mtk.convenience_tools.FakeLogger" title="mtk.convenience_tools.FakeLogger"><code class="xref py py-class docutils literal"><span class="pre">FakeLogger</span></code></a> or <code class="xref py py-class docutils literal"><span class="pre">logging.Logger</span></code>, optional) – Used for logging. Not used by this function.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The numpy array holds the fitness vector described in this
docstring.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">ValueError</span></code> – If the calculation of a fitness parameter fails.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mtk.ga.fitness.cage_target">
<code class="descclassname">mtk.ga.fitness.</code><code class="descname">cage_target</code><span class="sig-paren">(</span><em>macro_mol</em>, <em>target_mol_file</em>, <em>efunc</em>, <em>ofunc</em>, <em>rotations=0</em>, <em>logger=&lt;logging.Logger object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/ga/fitness.html#cage_target"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.ga.fitness.cage_target" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the fitness vector of a cage / target complex.</p>
<p>The target is randomly rotated inside the cage’s cavity and the
most stable conformation found is used.</p>
<p>The function returns a fitness vector consisting of:</p>
<blockquote>
<div><ol class="arabic simple">
<li>binding energy</li>
<li>cavity of cage in complex</li>
<li>asymmetry of cage in complex</li>
<li>strain of cage in complex</li>
<li>cavity of cage by itself</li>
<li>asymmetry of cage by itself</li>
<li>strain of cage by itself</li>
</ol>
</div></blockquote>
<p class="rubric">Notes</p>
<p>This function modifies <cite>macro_mol</cite>. It places the calculated
fitness parameters into <a class="reference internal" href="mtk.molecular.molecules.html#mtk.molecular.molecules.MacroMolecule.progress_params" title="mtk.molecular.molecules.MacroMolecule.progress_params"><code class="xref py py-attr docutils literal"><span class="pre">progress_params</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>macro_mol</strong> (<a class="reference internal" href="mtk.molecular.molecules.html#mtk.molecular.molecules.Cage" title="mtk.molecular.molecules.Cage"><code class="xref py py-class docutils literal"><span class="pre">Cage</span></code></a>) – The cage which is to have its fitness calculated.</li>
<li><strong>target_mol_file</strong> (<code class="xref py py-class docutils literal"><span class="pre">str</span></code>) – The full path of the <code class="docutils literal"><span class="pre">.mol</span></code> file hodling the target molecule
placed inside the cage.</li>
<li><strong>efunc</strong> (<a class="reference internal" href="mtk.convenience_tools.html#mtk.convenience_tools.FunctionData" title="mtk.convenience_tools.FunctionData"><code class="xref py py-class docutils literal"><span class="pre">FunctionData</span></code></a>) – A <a class="reference internal" href="mtk.convenience_tools.html#mtk.convenience_tools.FunctionData" title="mtk.convenience_tools.FunctionData"><code class="xref py py-class docutils literal"><span class="pre">FunctionData</span></code></a> object representing the energy
function used to calculate energies.</li>
<li><strong>ofunc</strong> (<a class="reference internal" href="mtk.convenience_tools.html#mtk.convenience_tools.FunctionData" title="mtk.convenience_tools.FunctionData"><code class="xref py py-class docutils literal"><span class="pre">FunctionData</span></code></a>) – A <a class="reference internal" href="mtk.convenience_tools.html#mtk.convenience_tools.FunctionData" title="mtk.convenience_tools.FunctionData"><code class="xref py py-class docutils literal"><span class="pre">FunctionData</span></code></a> object representing the optimization
function to be run on the generated complexes.</li>
<li><strong>rotations</strong> (<code class="xref py py-class docutils literal"><span class="pre">int</span></code>, optional) – The number of times the target should be randomly rotated
within the cage cavity in order to find the most stable
conformation.</li>
<li><strong>logger</strong> (<a class="reference internal" href="mtk.convenience_tools.html#mtk.convenience_tools.FakeLogger" title="mtk.convenience_tools.FakeLogger"><code class="xref py py-class docutils literal"><span class="pre">FakeLogger</span></code></a> or <code class="xref py py-class docutils literal"><span class="pre">logging.Logger</span></code>, optional) – Used for logging. Not used by this function.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The numpy array holds the fitness vector described in this
docstring.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">ValueError</span></code> – If the calculation of a fitness parameter fails.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mtk.ga.fitness.partial_raiser">
<code class="descclassname">mtk.ga.fitness.</code><code class="descname">partial_raiser</code><span class="sig-paren">(</span><em>macro_mol</em>, <em>logger=&lt;logging.Logger object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/ga/fitness.html#partial_raiser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.ga.fitness.partial_raiser" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates fitness or raises at random.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>macro_mol</strong> (<a class="reference internal" href="mtk.molecular.molecules.html#mtk.molecular.molecules.MacroMolecule" title="mtk.molecular.molecules.MacroMolecule"><em>MacroMolecule</em></a>) – The molecule having its fitness calculated, maybe.</li>
<li><strong>logger</strong> (<a class="reference internal" href="mtk.convenience_tools.html#mtk.convenience_tools.FakeLogger" title="mtk.convenience_tools.FakeLogger"><em>FakeLogger</em></a><em> or </em><em>logging.Logger</em><em>, </em><em>optional</em>) – Used for logging. Not used by this function.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The value of applying random_fitness_vector() to <cite>macro_mol</cite>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">numpy.array</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">Exception</span></code> – Raised at random.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mtk.ga.fitness.raiser">
<code class="descclassname">mtk.ga.fitness.</code><code class="descname">raiser</code><span class="sig-paren">(</span><em>macro_mol</em>, <em>param1</em>, <em>param2=2</em>, <em>logger=&lt;logging.Logger object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/ga/fitness.html#raiser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.ga.fitness.raiser" title="Permalink to this definition">¶</a></dt>
<dd><p>Doens’t calculate a fitness value, raises an error instead.</p>
<p>This function is used to test that when fitness functions raise
errors during multiprocessing, they are handled correctly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>param1</strong> (<em>object</em>) – Dummy parameter, does nothing.</li>
<li><strong>param2</strong> (<em>object</em><em> (</em><em>default = 2</em><em>)</em>) – Dummy keyword parameter, does nothing.</li>
<li><strong>logger</strong> (<a class="reference internal" href="mtk.convenience_tools.html#mtk.convenience_tools.FakeLogger" title="mtk.convenience_tools.FakeLogger"><em>FakeLogger</em></a><em> or </em><em>logging.Logger</em><em>, </em><em>optional</em>) – Used for logging. Not used by this function.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">This function does not return. It only raises.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">Exception</span></code> – An exception is always raised.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mtk.ga.fitness.random_fitness">
<code class="descclassname">mtk.ga.fitness.</code><code class="descname">random_fitness</code><span class="sig-paren">(</span><em>macro_mol</em>, <em>logger=&lt;logging.Logger object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/ga/fitness.html#random_fitness"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.ga.fitness.random_fitness" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a random fitness value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>macro_mol</strong> (<a class="reference internal" href="mtk.molecular.molecules.html#mtk.molecular.molecules.MacroMolecule" title="mtk.molecular.molecules.MacroMolecule"><em>MacroMolecule</em></a>) – The macromolecule to which a fitness value is to be assigned.</li>
<li><strong>logger</strong> (<a class="reference internal" href="mtk.convenience_tools.html#mtk.convenience_tools.FakeLogger" title="mtk.convenience_tools.FakeLogger"><em>FakeLogger</em></a><em> or </em><em>logging.Logger</em><em>, </em><em>optional</em>) – Used for logging. Not used by this function.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A random postive number.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mtk.ga.fitness.random_fitness_vector">
<code class="descclassname">mtk.ga.fitness.</code><code class="descname">random_fitness_vector</code><span class="sig-paren">(</span><em>macro_mol</em>, <em>logger=&lt;logging.Logger object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/ga/fitness.html#random_fitness_vector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.ga.fitness.random_fitness_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a size 4 array of random numbers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>macro_mol</strong> (<a class="reference internal" href="mtk.molecular.molecules.html#mtk.molecular.molecules.MacroMolecule" title="mtk.molecular.molecules.MacroMolecule"><em>MacroMolecule</em></a>) – The macromolecule which is to have its fitness calculated.</li>
<li><strong>logger</strong> (<a class="reference internal" href="mtk.convenience_tools.html#mtk.convenience_tools.FakeLogger" title="mtk.convenience_tools.FakeLogger"><em>FakeLogger</em></a><em> or </em><em>logging.Logger</em><em>, </em><em>optional</em>) – Used for logging. Not used by this function.</li>
<li><strong>Modifies</strong> – </li>
<li><strong>--------</strong> – </li>
<li><strong>macro_mol.progress_params</strong> (<em>dict</em>) – The random numbers are also placed into this attribute.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">An array holding random numbers.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Lukas Turcani.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>