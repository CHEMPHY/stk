

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>mtk.molecular.optimization.macromodel module &mdash; mtk  documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="mtk  documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> mtk
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">mtk.molecular.optimization.macromodel module</a></li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">mtk</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>mtk.molecular.optimization.macromodel module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/mtk.molecular.optimization.macromodel.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-mtk.molecular.optimization.macromodel">
<span id="mtk-molecular-optimization-macromodel-module"></span><h1>mtk.molecular.optimization.macromodel module<a class="headerlink" href="#module-mtk.molecular.optimization.macromodel" title="Permalink to this headline">¶</a></h1>
<p>Defines optimization functions which use MacroModel.</p>
<dl class="exception">
<dt id="mtk.molecular.optimization.macromodel._ConversionError">
<em class="property">exception </em><code class="descclassname">mtk.molecular.optimization.macromodel.</code><code class="descname">_ConversionError</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#_ConversionError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel._ConversionError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">Exception</span></code></p>
<dl class="method">
<dt id="mtk.molecular.optimization.macromodel._ConversionError.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#_ConversionError.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel._ConversionError.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="mtk.molecular.optimization.macromodel._ConversionError.__module__">
<code class="descname">__module__</code><em class="property"> = 'mtk.molecular.optimization.macromodel'</em><a class="headerlink" href="#mtk.molecular.optimization.macromodel._ConversionError.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="mtk.molecular.optimization.macromodel._ConversionError.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#mtk.molecular.optimization.macromodel._ConversionError.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="mtk.molecular.optimization.macromodel._ForceFieldError">
<em class="property">exception </em><code class="descclassname">mtk.molecular.optimization.macromodel.</code><code class="descname">_ForceFieldError</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#_ForceFieldError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel._ForceFieldError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">Exception</span></code></p>
<dl class="method">
<dt id="mtk.molecular.optimization.macromodel._ForceFieldError.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#_ForceFieldError.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel._ForceFieldError.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="mtk.molecular.optimization.macromodel._ForceFieldError.__module__">
<code class="descname">__module__</code><em class="property"> = 'mtk.molecular.optimization.macromodel'</em><a class="headerlink" href="#mtk.molecular.optimization.macromodel._ForceFieldError.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="mtk.molecular.optimization.macromodel._ForceFieldError.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#mtk.molecular.optimization.macromodel._ForceFieldError.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="mtk.molecular.optimization.macromodel._LewisStructureError">
<em class="property">exception </em><code class="descclassname">mtk.molecular.optimization.macromodel.</code><code class="descname">_LewisStructureError</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#_LewisStructureError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel._LewisStructureError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">Exception</span></code></p>
<dl class="method">
<dt id="mtk.molecular.optimization.macromodel._LewisStructureError.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#_LewisStructureError.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel._LewisStructureError.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="mtk.molecular.optimization.macromodel._LewisStructureError.__module__">
<code class="descname">__module__</code><em class="property"> = 'mtk.molecular.optimization.macromodel'</em><a class="headerlink" href="#mtk.molecular.optimization.macromodel._LewisStructureError.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="mtk.molecular.optimization.macromodel._LewisStructureError.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#mtk.molecular.optimization.macromodel._LewisStructureError.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="mtk.molecular.optimization.macromodel._OptimizationError">
<em class="property">exception </em><code class="descclassname">mtk.molecular.optimization.macromodel.</code><code class="descname">_OptimizationError</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#_OptimizationError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel._OptimizationError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">Exception</span></code></p>
<dl class="method">
<dt id="mtk.molecular.optimization.macromodel._OptimizationError.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#_OptimizationError.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel._OptimizationError.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="mtk.molecular.optimization.macromodel._OptimizationError.__module__">
<code class="descname">__module__</code><em class="property"> = 'mtk.molecular.optimization.macromodel'</em><a class="headerlink" href="#mtk.molecular.optimization.macromodel._OptimizationError.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="mtk.molecular.optimization.macromodel._OptimizationError.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#mtk.molecular.optimization.macromodel._OptimizationError.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="mtk.molecular.optimization.macromodel._PathError">
<em class="property">exception </em><code class="descclassname">mtk.molecular.optimization.macromodel.</code><code class="descname">_PathError</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#_PathError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel._PathError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">Exception</span></code></p>
<dl class="method">
<dt id="mtk.molecular.optimization.macromodel._PathError.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#_PathError.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel._PathError.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="mtk.molecular.optimization.macromodel._PathError.__module__">
<code class="descname">__module__</code><em class="property"> = 'mtk.molecular.optimization.macromodel'</em><a class="headerlink" href="#mtk.molecular.optimization.macromodel._PathError.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="mtk.molecular.optimization.macromodel._PathError.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#mtk.molecular.optimization.macromodel._PathError.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="mtk.molecular.optimization.macromodel._com_line">
<code class="descclassname">mtk.molecular.optimization.macromodel.</code><code class="descname">_com_line</code><span class="sig-paren">(</span><em>arg1</em>, <em>arg2</em>, <em>arg3</em>, <em>arg4</em>, <em>arg5</em>, <em>arg6</em>, <em>arg7</em>, <em>arg8</em>, <em>arg9</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#_com_line"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel._com_line" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mtk.molecular.optimization.macromodel._convert_maegz_to_mae">
<code class="descclassname">mtk.molecular.optimization.macromodel.</code><code class="descname">_convert_maegz_to_mae</code><span class="sig-paren">(</span><em>macro_mol</em>, <em>macromodel_path</em>, <em>logger</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#_convert_maegz_to_mae"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel._convert_maegz_to_mae" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a <code class="docutils literal"><span class="pre">.maegz</span></code> file to a <code class="docutils literal"><span class="pre">.mae</span></code> file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>macro_mol</strong> (<a class="reference internal" href="mtk.molecular.molecules.html#mtk.molecular.molecules.MacroMolecule" title="mtk.molecular.molecules.MacroMolecule"><em>MacroMolecule</em></a>) – The macromolecule being optimized. The <code class="docutils literal"><span class="pre">.maegz</span></code> file holding
its optimized structure is converted to a <code class="docutils literal"><span class="pre">.mae</span></code> file. Both
versions are kept.</li>
<li><strong>macromodel_path</strong> (<em>str</em>) – The full path of the installation directory of the Schrodinger
suite. By default on a Windows machine it should be something
like: “C:Program FilesSchrodinger2016-2”.</li>
<li><strong>logger</strong> (<a class="reference internal" href="mtk.convenience_tools.html#mtk.convenience_tools.FakeLogger" title="mtk.convenience_tools.FakeLogger"><em>FakeLogger</em></a><em> or </em><em>logging.Logger</em>) – Used for logging.</li>
<li><strong>Modifies</strong> – </li>
<li><strong>--------</strong> – </li>
<li><strong>function creates a new .mae file from a .maegz file.</strong> (<em>This</em>) – </li>
<li><strong>new file is placed in the same folder as the .maegz file.</strong> (<em>This</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>None</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">NoneType</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ForceFieldError</span></code> – If the OPLS3 force field failed to optimize the molecule. If
this happens the conversion function is unable to convert the
output of the optimization function and as a result this error
is raised.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mtk.molecular.optimization.macromodel._create_mae">
<code class="descclassname">mtk.molecular.optimization.macromodel.</code><code class="descname">_create_mae</code><span class="sig-paren">(</span><em>macro_mol</em>, <em>macromodel_path</em>, <em>logger</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#_create_mae"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel._create_mae" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the <code class="docutils literal"><span class="pre">.mae</span></code> file holding the molecule to be optimized.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>macro_mol</strong> (<a class="reference internal" href="mtk.molecular.molecules.html#mtk.molecular.molecules.MacroMolecule" title="mtk.molecular.molecules.MacroMolecule"><em>MacroMolecule</em></a>) – The macromolecule which is to be optimized. Its molecular
structure file is converted to a <code class="docutils literal"><span class="pre">.mae</span></code> file. The original
file is also kept.</li>
<li><strong>macromodel_path</strong> (<em>str</em>) – The full path of the installation directory of the Schrodinger
suite. By default on a Windows machine it should be something
like: “C:Program FilesSchrodinger2016-2”.</li>
<li><strong>logger</strong> (<a class="reference internal" href="mtk.convenience_tools.html#mtk.convenience_tools.FakeLogger" title="mtk.convenience_tools.FakeLogger"><em>FakeLogger</em></a><em> or </em><em>logging.Logger</em>) – Used for logging.</li>
<li><strong>Modifies</strong> – </li>
<li><strong>--------</strong> – </li>
<li><strong>function creates a new .mae file from the structure file</strong> (<em>This</em>) – </li>
<li><strong>macro_mol._file. This new file is placed in the same</strong> (<em>in</em>) – </li>
<li><strong>as the original file and has the same name. Only the</strong> (<em>folder</em>) – </li>
<li><strong>are different.</strong> (<em>extensions</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The full path of the newly created <code class="docutils literal"><span class="pre">.mae</span></code> file.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mtk.molecular.optimization.macromodel._fix_bond_angle_in_com_file">
<code class="descclassname">mtk.molecular.optimization.macromodel.</code><code class="descname">_fix_bond_angle_in_com_file</code><span class="sig-paren">(</span><em>macro_mol</em>, <em>fix_block</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#_fix_bond_angle_in_com_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel._fix_bond_angle_in_com_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds lines fixing bond angles to <code class="docutils literal"><span class="pre">.com</span></code> body string.</p>
<p>All bond angles of the molecule are fixed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>macro_mol</strong> (<a class="reference internal" href="mtk.molecular.molecules.html#mtk.molecular.molecules.MacroMolecule" title="mtk.molecular.molecules.MacroMolecule"><em>MacroMolecule</em></a>) – The macromolecule to be optimized.</li>
<li><strong>fix_block</strong> (<em>str</em>) – The string holding all the lines containing fix commands for
the <code class="docutils literal"><span class="pre">.com</span></code> file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A string holding lines containg fix commands for the <code class="docutils literal"><span class="pre">.com</span></code>
file. The string has the lines fixing bond angles added to it
by this function.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mtk.molecular.optimization.macromodel._fix_distance_in_com_file">
<code class="descclassname">mtk.molecular.optimization.macromodel.</code><code class="descname">_fix_distance_in_com_file</code><span class="sig-paren">(</span><em>macro_mol</em>, <em>fix_block</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#_fix_distance_in_com_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel._fix_distance_in_com_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds lines fixing bond distances to <code class="docutils literal"><span class="pre">.com</span></code> body string.</p>
<p>Only bond distances which do not involve bonds created during
assembly are fixed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>macro_mol</strong> (<a class="reference internal" href="mtk.molecular.molecules.html#mtk.molecular.molecules.MacroMolecule" title="mtk.molecular.molecules.MacroMolecule"><em>MacroMolecule</em></a>) – The macromolecule to be optimized.</li>
<li><strong>fix_block</strong> (<em>str</em>) – The string holding all the lines containing fix commands for
the <code class="docutils literal"><span class="pre">.com</span></code> file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A string holding lines containg fix commands for the <code class="docutils literal"><span class="pre">.com</span></code>
file. The string has the lines fixing bond distances added to
it by this function.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mtk.molecular.optimization.macromodel._fix_params_in_com_file">
<code class="descclassname">mtk.molecular.optimization.macromodel.</code><code class="descname">_fix_params_in_com_file</code><span class="sig-paren">(</span><em>macro_mol</em>, <em>main_string</em>, <em>restricted</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#_fix_params_in_com_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel._fix_params_in_com_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds lines to the <code class="docutils literal"><span class="pre">.com</span></code> body fixing bond distances and angles.</p>
<p>For each bond distance, bond angle and torisional angle that does
not involve a bond created during assembly a <code class="docutils literal"><span class="pre">FX</span></code> command is
added to the string holding holding the body of the <code class="docutils literal"><span class="pre">.com</span></code> file.</p>
<p>These lines replace the filler line in the main string.</p>
<p>This function is called by <code class="docutils literal"><span class="pre">macromodel_opt</span></code>. It is private
because it should probably not be used outside of this context.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>macro_mol</strong> (<a class="reference internal" href="mtk.molecular.molecules.html#mtk.molecular.molecules.MacroMolecule" title="mtk.molecular.molecules.MacroMolecule"><em>MacroMolecule</em></a>) – The macromolecule which is to be optimized.</li>
<li><strong>main_string</strong> (<em>str</em>) – The body of the <code class="docutils literal"><span class="pre">.com</span></code> file which is to have fix commands
added.</li>
<li><strong>restricted</strong> (<em>bool</em><em> (</em><em>default = True</em><em>)</em>) – When <code class="docutils literal"><span class="pre">False</span></code> the block containing instructions to fix
molecular parameters is not added to the .com file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A string holding the body of the <code class="docutils literal"><span class="pre">.com</span></code> file with
instructions to fix the various bond distances and angles as
described in the docstring.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mtk.molecular.optimization.macromodel._fix_torsional_angle_in_com_file">
<code class="descclassname">mtk.molecular.optimization.macromodel.</code><code class="descname">_fix_torsional_angle_in_com_file</code><span class="sig-paren">(</span><em>macro_mol</em>, <em>fix_block</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#_fix_torsional_angle_in_com_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel._fix_torsional_angle_in_com_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds lines fixing torsional bond angles to <code class="docutils literal"><span class="pre">.com</span></code> body string.</p>
<p>All torsional angles of the macromolecule are fixed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>macro_mol</strong> (<a class="reference internal" href="mtk.molecular.molecules.html#mtk.molecular.molecules.MacroMolecule" title="mtk.molecular.molecules.MacroMolecule"><em>MacroMolecule</em></a>) – The macromolecule to be optimized.</li>
<li><strong>fix_block</strong> (<em>str</em>) – The string holding all the lines containing fix commands for
the <code class="docutils literal"><span class="pre">.com</span></code> file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A string holding lines containg fix commands for the <code class="docutils literal"><span class="pre">.com</span></code>
file. The string has the lines fixing bond angles added to it
by this function.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mtk.molecular.optimization.macromodel._generate_com">
<code class="descclassname">mtk.molecular.optimization.macromodel.</code><code class="descname">_generate_com</code><span class="sig-paren">(</span><em>macro_mol</em>, <em>settings</em>, <em>logger</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#_generate_com"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel._generate_com" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a <code class="docutils literal"><span class="pre">.com</span></code> file for a MacroModel optimization.</p>
<p>The created <code class="docutils literal"><span class="pre">.com</span></code> file fixes all bond parameters which were not
added during assembly. This means all bond distances, bond angles
and torsional angles are fixed, except for cases where it involves
a bond added during assembly of the macromolecule.</p>
<p>This fixing is implemented by creating a <code class="docutils literal"><span class="pre">.com</span></code> file with various
<code class="docutils literal"><span class="pre">FX</span></code> commands written within its body.</p>
<p>This function is called by <code class="docutils literal"><span class="pre">macromodel_opt</span></code>. It is private
because it should probably not be used outside of this context.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>macro_mol</strong> (<a class="reference internal" href="mtk.molecular.molecules.html#mtk.molecular.molecules.MacroMolecule" title="mtk.molecular.molecules.MacroMolecule"><em>MacroMolecule</em></a>) – The macromolecule which is to be optimized.</li>
<li><strong>settings</strong> (<em>dict</em>) – A dictionary of settings for the optimization. See
macromodel_opt() documentation.</li>
<li><strong>logger</strong> (<a class="reference internal" href="mtk.convenience_tools.html#mtk.convenience_tools.FakeLogger" title="mtk.convenience_tools.FakeLogger"><em>FakeLogger</em></a><em> or </em><em>logging.Logger</em>) – Used for logging.</li>
<li><strong>Modifies</strong> – </li>
<li><strong>--------</strong> – </li>
<li><strong>function creates a new .com file holding the instructions</strong> (<em>This</em>) – </li>
<li><strong>optimizing the macromolecule using MacroModel.</strong> (<em>for</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>None</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">NoneType</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mtk.molecular.optimization.macromodel._generate_md_com">
<code class="descclassname">mtk.molecular.optimization.macromodel.</code><code class="descname">_generate_md_com</code><span class="sig-paren">(</span><em>macro_mol</em>, <em>settings</em>, <em>logger</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#_generate_md_com"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel._generate_md_com" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mtk.molecular.optimization.macromodel._kill_bmin">
<code class="descclassname">mtk.molecular.optimization.macromodel.</code><code class="descname">_kill_bmin</code><span class="sig-paren">(</span><em>macro_mol</em>, <em>macromodel_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#_kill_bmin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel._kill_bmin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mtk.molecular.optimization.macromodel._license_found">
<code class="descclassname">mtk.molecular.optimization.macromodel.</code><code class="descname">_license_found</code><span class="sig-paren">(</span><em>output</em>, <em>macro_mol=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#_license_found"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel._license_found" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks to see if minimization failed due to a missing license.</p>
<p>The user can be notified of this in one of two ways. Sometimes the
output of the submission contains the message informing that the
license was not found and in other cases it will be the log file.
This function checks both of these sources for this message.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>output</strong> (<em>str</em>) – The outout from submitting the minimization of the structure
to the <code class="docutils literal"><span class="pre">bmin</span></code> program.</li>
<li><strong>macro_mol</strong> (<a class="reference internal" href="mtk.molecular.molecules.html#mtk.molecular.molecules.MacroMolecule" title="mtk.molecular.molecules.MacroMolecule"><em>MacroMolecule</em></a><em> (</em><em>default=None</em><em>)</em>) – The macromolecule being optimized. If the .log file is not to
be checked, the default <code class="docutils literal"><span class="pre">None</span></code> should be used.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">True</span></code> if the license was found. <code class="docutils literal"><span class="pre">False</span></code> if the
minimization did not occur due to a missing license.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mtk.molecular.optimization.macromodel._macromodel_md_opt">
<code class="descclassname">mtk.molecular.optimization.macromodel.</code><code class="descname">_macromodel_md_opt</code><span class="sig-paren">(</span><em>macro_mol</em>, <em>macromodel_path</em>, <em>logger</em>, <em>settings={}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#_macromodel_md_opt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel._macromodel_md_opt" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs a MD conformer search on <cite>macro_mol</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>macro_mol</strong> (<a class="reference internal" href="mtk.molecular.molecules.html#mtk.molecular.molecules.MacroMolecule" title="mtk.molecular.molecules.MacroMolecule"><em>MacroMolecule</em></a>) – The macromolecule who’s structure must be optimized.</li>
<li><strong>macromodel_path</strong> (<em>str</em>) – The full path of the <code class="docutils literal"><span class="pre">Schrodinger</span></code> suite within the user’s
machine. For example, in a default Microsoft installation the
folder will probably be something like
<code class="docutils literal"><span class="pre">C:\Program</span> <span class="pre">Files\Schrodinger2016-2</span></code>.</li>
<li><strong>logger</strong> (<a class="reference internal" href="mtk.convenience_tools.html#mtk.convenience_tools.FakeLogger" title="mtk.convenience_tools.FakeLogger"><em>FakeLogger</em></a><em> or </em><em>logging.Logger</em>) – Used for logging.</li>
<li><strong>settings</strong> (<em>dict</em><em> (</em><em>default = {}</em><em>)</em>) – <p>Each key is a string describing an MD parameter. The value is
the corresponding value. Only values which need to be changed
from the default need to be specified. The allowed parameters
are:</p>
<blockquote>
<div><dl class="docutils">
<dt>’timeout’ <span class="classifier-delimiter">:</span> <span class="classifier">float (default = 0)</span></dt>
<dd>The amount in seconds the MD is allowed to run before
being terminated. 0 means there is no timeout.</dd>
<dt>’force_field’ <span class="classifier-delimiter">:</span> <span class="classifier">int (default = 16)</span></dt>
<dd>The number of the force field to be used.</dd>
<dt>’temp’ <span class="classifier-delimiter">:</span> <span class="classifier">float (default = 300)</span></dt>
<dd>The temperature in Kelvin at which the MD is run.</dd>
<dt>’confs’ <span class="classifier-delimiter">:</span> <span class="classifier">int (default = 50)</span></dt>
<dd>The number of conformers sampled and optimized from the
MD.</dd>
<dt>’time_step’ <span class="classifier-delimiter">:</span> <span class="classifier">float (default = 1.0)</span></dt>
<dd>The time step in fs for the MD.</dd>
<dt>’eq_time’ <span class="classifier-delimiter">:</span> <span class="classifier">float (default = 10)</span></dt>
<dd>The equilibriation time in ps before the MD is run.</dd>
<dt>’sim_time’ <span class="classifier-delimiter">:</span> <span class="classifier">float (default = 200)</span></dt>
<dd>The simulation time in ps of the MD.</dd>
<dt>’max_iter’ <span class="classifier-delimiter">:</span> <span class="classifier">int (default = 2500)</span></dt>
<dd>The maximum number of iterations done during the
optimization.</dd>
<dt>’gradient’ <span class="classifier-delimiter">:</span> <span class="classifier">float (default = 0.05)</span></dt>
<dd>The gradient at which optimization is stopped.</dd>
</dl>
</div></blockquote>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>macro_mol.mol</dt>
<dd>The rdkit molecule held in this attribute is replaced by an
rdkit molecule with an optimized structure.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>None</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">NoneType</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mtk.molecular.optimization.macromodel._run_applyhtreat">
<code class="descclassname">mtk.molecular.optimization.macromodel.</code><code class="descname">_run_applyhtreat</code><span class="sig-paren">(</span><em>macro_mol</em>, <em>macromodel_path</em>, <em>logger</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#_run_applyhtreat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel._run_applyhtreat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mtk.molecular.optimization.macromodel._run_bmin">
<code class="descclassname">mtk.molecular.optimization.macromodel.</code><code class="descname">_run_bmin</code><span class="sig-paren">(</span><em>macro_mol</em>, <em>macromodel_path</em>, <em>logger</em>, <em>timeout=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#_run_bmin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel._run_bmin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mtk.molecular.optimization.macromodel._structconvert">
<code class="descclassname">mtk.molecular.optimization.macromodel.</code><code class="descname">_structconvert</code><span class="sig-paren">(</span><em>iname</em>, <em>oname</em>, <em>macromodel_path</em>, <em>logger</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#_structconvert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel._structconvert" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mtk.molecular.optimization.macromodel._wait_for_file">
<code class="descclassname">mtk.molecular.optimization.macromodel.</code><code class="descname">_wait_for_file</code><span class="sig-paren">(</span><em>file_name</em>, <em>logger</em>, <em>timeout=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#_wait_for_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel._wait_for_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Stalls until a given file exists or <cite>timeout</cite> expires.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>file_name</strong> (<em>str</em>) – The full path of the file which should be waited for.</li>
<li><strong>logger</strong> (<a class="reference internal" href="mtk.convenience_tools.html#mtk.convenience_tools.FakeLogger" title="mtk.convenience_tools.FakeLogger"><em>FakeLogger</em></a><em> or </em><em>logging.Logger</em>) – Used for logging.</li>
<li><strong>timeout</strong> (<em>int</em><em> or </em><em>float</em>) – The number of seconds before the function stops waiting and
returns.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>None</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">NoneType</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mtk.molecular.optimization.macromodel.macromodel_cage_opt">
<code class="descclassname">mtk.molecular.optimization.macromodel.</code><code class="descname">macromodel_cage_opt</code><span class="sig-paren">(</span><em>macro_mol</em>, <em>macromodel_path</em>, <em>settings={}</em>, <em>md={}</em>, <em>logger=&lt;Logger mtk.molecular.optimization.macromodel (NOTSET)&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#macromodel_cage_opt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel.macromodel_cage_opt" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimizes the molecule using MacroModel.</p>
<p>This function runs a restricted optimization. The structures of the
building blocks are frozen and only the new bonds formed between
building blocks during assembly are optimized.</p>
<p>This function differes from <cite>macromodel_opt</cite> in that it checks the
number of windows the <cite>macro_mol</cite> has before running the MD. The MD
is only run all windows are found  (i.e. the cage is not
collapsed).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>macro_mol</strong> (<a class="reference internal" href="mtk.molecular.molecules.html#mtk.molecular.molecules.MacroMolecule" title="mtk.molecular.molecules.MacroMolecule"><em>MacroMolecule</em></a>) – The macromolecule who’s structure must be optimized.</li>
<li><strong>macromodel_path</strong> (<em>str</em>) – The full path of the <code class="docutils literal"><span class="pre">Schrodinger</span></code> suite within the user’s
machine. For example, in a default Microsoft installation the
folder will probably be something like
<code class="docutils literal"><span class="pre">C:\Program</span> <span class="pre">Files\Schrodinger2016-2</span></code>.</li>
<li><strong>settings</strong> (<em>dict</em><em> (</em><em>default = {}</em><em>)</em>) – <p>A dictionary which maps the names of optimization parameters to
their values. Valid values are:</p>
<blockquote>
<div><dl class="docutils">
<dt>’restricted’ <span class="classifier-delimiter">:</span> <span class="classifier">bool (default = True)</span></dt>
<dd>If False then all bonds are optimized, not just the
ones created during macromolecular assembly.</dd>
<dt>’timeout’ <span class="classifier-delimiter">:</span> <span class="classifier">float (default = 0)</span></dt>
<dd>The amount in seconds the optimization is allowed to
run before being terminated. 0 means there is no
timeout.</dd>
<dt>’force_field’ <span class="classifier-delimiter">:</span> <span class="classifier">int (default = 16)</span></dt>
<dd>The number of the force field to be used.</dd>
<dt>’max_iter’ <span class="classifier-delimiter">:</span> <span class="classifier">int (default = 2500)</span></dt>
<dd>The maximum number of iterations done during the
optimization.</dd>
<dt>’gradient’ <span class="classifier-delimiter">:</span> <span class="classifier">float (default = 0.05)</span></dt>
<dd>The gradient at which optimization is stopped.</dd>
<dt>’md’ <span class="classifier-delimiter">:</span> <span class="classifier">bool (default=False)</span></dt>
<dd>Toggles whether a MD conformer search should be
performed.</dd>
</dl>
</div></blockquote>
<p>Only values which need to be changed from the default need to
be specified. For exmaple:</p>
<blockquote>
<div>macromodel_opt(mol, ‘path’, {‘max_iter’ : 10})</div></blockquote>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>md <span class="classifier-delimiter">:</span> <span class="classifier">dict (default = {})</span></dt>
<dd>A dictionary holding settings for the MD conformer search.
This parameter is used in the same way as <cite>settings</cite> except
the values effect the MD only. See docstring of
macromodel_md_opt() for valid values.</dd>
<dt>logger <span class="classifier-delimiter">:</span> <span class="classifier">FakeLogger or logging.Logger, optional</span></dt>
<dd>Used for logging.</dd>
</dl>
<dl class="docutils">
<dt>macro_mol.mol</dt>
<dd>The rdkit molecule held in this attribute is replaced by an
rdkit molecule with an optimized structure.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>None</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">NoneType</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mtk.molecular.optimization.macromodel.macromodel_opt">
<code class="descclassname">mtk.molecular.optimization.macromodel.</code><code class="descname">macromodel_opt</code><span class="sig-paren">(</span><em>macro_mol</em>, <em>macromodel_path</em>, <em>settings={}</em>, <em>md={}</em>, <em>logger=&lt;Logger mtk.molecular.optimization.macromodel (NOTSET)&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtk/molecular/optimization/macromodel.html#macromodel_opt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtk.molecular.optimization.macromodel.macromodel_opt" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimizes the molecule using MacroModel.</p>
<p>This function runs a restricted optimization. The structures of the
building blocks are frozen and only the new bonds formed between
building blocks during assembly are optimized.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>macro_mol</strong> (<a class="reference internal" href="mtk.molecular.molecules.html#mtk.molecular.molecules.MacroMolecule" title="mtk.molecular.molecules.MacroMolecule"><em>MacroMolecule</em></a>) – The macromolecule who’s structure must be optimized.</li>
<li><strong>macromodel_path</strong> (<em>str</em>) – The full path of the <code class="docutils literal"><span class="pre">Schrodinger</span></code> suite within the user’s
machine. For example, in a default Microsoft installation the
folder will probably be something like
<code class="docutils literal"><span class="pre">C:\Program</span> <span class="pre">Files\Schrodinger2016-2</span></code>.</li>
<li><strong>settings</strong> (<em>dict</em><em> (</em><em>default = {}</em><em>)</em>) – <p>A dictionary which maps the names of optimization parameters to
their values. Valid values are:</p>
<blockquote>
<div><dl class="docutils">
<dt>’restricted’ <span class="classifier-delimiter">:</span> <span class="classifier">bool (default = True)</span></dt>
<dd>If False then all bonds are optimized, not just the
ones created during macromolecular assembly.</dd>
<dt>’timeout’ <span class="classifier-delimiter">:</span> <span class="classifier">float (default = 0)</span></dt>
<dd>The amount in seconds the optimization is allowed to
run before being terminated. 0 means there is no
timeout.</dd>
<dt>’force_field’ <span class="classifier-delimiter">:</span> <span class="classifier">int (default = 16)</span></dt>
<dd>The number of the force field to be used.</dd>
<dt>’max_iter’ <span class="classifier-delimiter">:</span> <span class="classifier">int (default = 2500)</span></dt>
<dd>The maximum number of iterations done during the
optimization.</dd>
<dt>’gradient’ <span class="classifier-delimiter">:</span> <span class="classifier">float (default = 0.05)</span></dt>
<dd>The gradient at which optimization is stopped.</dd>
<dt>’md’ <span class="classifier-delimiter">:</span> <span class="classifier">bool (default=False)</span></dt>
<dd>Toggles whether a MD conformer search should be
performed.</dd>
</dl>
</div></blockquote>
<p>Only values which need to be changed from the default need to
be specified. For exmaple:</p>
<blockquote>
<div>macromodel_opt(mol, ‘path’, {‘max_iter’ : 10})</div></blockquote>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>md <span class="classifier-delimiter">:</span> <span class="classifier">dict (default = {})</span></dt>
<dd>A dictionary holding settings for the MD conformer search.
This parameter is used in the same way as <cite>settings</cite> except
the values effect the MD only. See docstring of
macromodel_md_opt() for valid values.</dd>
<dt>logger <span class="classifier-delimiter">:</span> <span class="classifier">FakeLogger or logging.Logger, optional</span></dt>
<dd>Used for logging.</dd>
</dl>
<dl class="docutils">
<dt>macro_mol.mol</dt>
<dd>The rdkit molecule held in this attribute is replaced by an
rdkit molecule with an optimized structure.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>None</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">NoneType</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Lukas Turcani.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>